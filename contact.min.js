'use strict';var d=void 0,e=null;function h(a){return function(){return this[a]}}var i,j;j=i=d;Number.prototype.o=function(){var a=k.length;return(this%a+a)%a};
var k=[{name:"pigeon",message:"Send us this homing pigeon, he'll find his way. But don't forget to give him a treat, and wax-seal your envelope!",joke:"We'll get back to you quickly. No guano attached.",image:"media/images/contact/medium/pigeon.png",imageLabel:"Pigeon",attribution:'"Pigeon" symbol by Olivier Guin, from thenounproject.com collection.'},{name:"cans",message:"Pull tight on this tin can phone, so we can hear you well!<br>(batteries not included)",joke:"We'll get back to you quickly. No ravioli flavor attached.",
image:"media/images/contact/medium/cans.png",imageLabel:"Cans",attribution:'"Can" symbol by Megan Strickland, from thenounproject.com collection.'},{name:"bottle",message:"Yarr, ye be sendin' a message in a bottle. You best put a great grand treasure map or you be walkin' the plank!<br>Arr!<br/>",joke:"We'll get back to you quickly. No rum breath attached.",image:"media/images/contact/medium/bottle.png",imageLabel:"Bottle",attribution:'"Bottle" symbol by Jiayuan Peng, from thenounproject.com collection.'},
{name:"smoke_signals",message:"Hugh. When us see smoke signals, then us meet at the tree of wisdom.<br/> Us leave tomahawk in tipi.",joke:"We'll get back to you quickly. No scalp involved.",image:"media/images/contact/medium/smoke_signals.png",imageLabel:"Smoke Signals",attribution:'"Fire" symbol by Nicolas Hue, "Blanket" and "Cloud" symbols from thenounproject.com collection.'},{name:"morse",message:"We are glad you know morse code<br>.-- . /  -.. --- -. .----. - .-.-.- /  -... ..- - /  .-- . /  -.- -. --- .-- /  .... --- .-- /  - --- /  ..- ... . /  .. -. - . .-. -. . - --..-- /  .- -. -.. /  - .-. .- -. ... .-.. .- - . /  .. - .-.-.-  ",
joke:"We'll get back to you quickly. Anyways we have no telegraph.",image:"media/images/contact/medium/morse.png",imageLabel:"Morse",attribution:'"Morse" symbol not from thenounproject.com collection.'}];
i=Class.extend({v:d,u:d,n:d,l:d,m:d,t:d,C:d,j:e,a:e,d:e,g:e,f:e,init:function(a,c,b,f,g,l){this.v=a;this.u=c;this.n=b;this.l=f;this.m=f.replace(".","_green.");this.t=g;this.B=l;this.j=$('<div class="medium"></div>');this.s=$('<div class="image_block"></div>');this.a=$('<img src="'+f+'" style="opacity: 1; ">');this.g=$('<div class="image_label">'+g+"</div>").hide();this.d=$('<div class="description"></div>').hide();this.f=$('<div class="attribution '+a+'">'+l+"</div>").hide();a=$("<p>"+c+"<br/>or alternatively you can send us an email.</p>");
c=$('<div class="mail"><img src="media/images/contact/email.png"><a href="mailto:contact@cottontracks.com">contact@cottontracks.com</a></div>');b=$('<div class="joke">'+this.n+"</div>");this.j.append(this.s.append(this.a,this.g),this.d.append(a,c,b))},c:h("j"),description:h("d"),z:h("a"),A:function(){this.a.attr("src",this.m)},r:function(){this.a.attr("src",this.l)},blink:function(a,c){var b=this;5>a?(a+=1,a%2?b.A():b.r(),setTimeout(function(){b.blink(a,c)},200)):c()},select:function(){var a=this;
a.blink(0,function(){a.a.show().css("margin-left","-260px");a.g.show().css("margin-left","-260px");a.f.show();a.d.show().css("opacity","1");$("#attribution").append(a.f.show())});return a},w:function(){this.a.hide().css("margin-left","0px");this.g.hide().css("margin-left","0px");this.d.hide();this.f.remove();this.r();return e}});
j=Class.extend({b:e,e:e,k:e,h:e,i:e,init:function(){var a=this;a.h=$('<div class="try_again_button">TRY AGAIN</div>').click(function(){a.h.hide();a.reset();a.q()}).hide();a.b=[];for(var c=0;c<k.length;c++){var b=k[c];a.b.push(new i(b.name,b.message,b.joke,b.image,b.imageLabel,b.attribution))}},c:h("e"),display:function(){var a=this;a.k=$(".contact_button").click(function(){a.q()});a.e=$("#main .content_column");for(var c=0,b;b=a.b[c];c++)b.c().hide(),a.e.append(b.c());a.e.append(a.h)},q:function(){var a=
Math.floor(15*Math.random()+10);this.k.hide();this.e.find(".contact_message").remove();this.p(0,a)},p:function(a,c){var b=this,f=(a-1).o();if(a<c){var g=a.o();b.b[f].c().hide();b.b[g].c().show();b.b[g].z().show();setTimeout(function(){b.p(a+1,c)},200)}else setTimeout(function(){b.h.show()},1E3),b.i=b.b[f],b.i.select()},reset:function(){this.i=this.i.w()}});var m=new j;$(window).load(function(){m.display()});
